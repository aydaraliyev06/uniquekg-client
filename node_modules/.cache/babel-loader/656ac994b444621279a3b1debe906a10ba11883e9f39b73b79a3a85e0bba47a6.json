{"ast":null,"code":"import _regeneratorRuntime from\"C:/VScode/RC/uniquekg/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/VScode/RC/uniquekg/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{$authHost,$host}from\"./index\";import jwt_decode from'jwt-decode';export var registration=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,password){var _yield$$host$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return $host.post('api/user/registration',{email:email,password:password,role:'ADMIN'});case 2:_yield$$host$post=_context.sent;data=_yield$$host$post.data;localStorage.setItem('token',data.token);return _context.abrupt(\"return\",jwt_decode(data.token));case 6:case\"end\":return _context.stop();}},_callee);}));return function registration(_x,_x2){return _ref.apply(this,arguments);};}();export var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(email,password){var _yield$$host$post2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return $host.post('api/user/login',{email:email,password:password});case 2:_yield$$host$post2=_context2.sent;data=_yield$$host$post2.data;localStorage.setItem('token',data.token);return _context2.abrupt(\"return\",jwt_decode(data.token));case 6:case\"end\":return _context2.stop();}},_callee2);}));return function login(_x3,_x4){return _ref2.apply(this,arguments);};}();export var check=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _yield$$authHost$get,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return $authHost.get('api/user/auth');case 2:_yield$$authHost$get=_context3.sent;data=_yield$$authHost$get.data;localStorage.setItem('token',data.token);return _context3.abrupt(\"return\",jwt_decode(data.token));case 6:case\"end\":return _context3.stop();}},_callee3);}));return function check(){return _ref3.apply(this,arguments);};}();","map":{"version":3,"names":["$authHost","$host","jwt_decode","registration","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","password","_yield$$host$post","data","wrap","_callee$","_context","prev","next","post","role","sent","localStorage","setItem","token","abrupt","stop","_x","_x2","apply","arguments","login","_ref2","_callee2","_yield$$host$post2","_callee2$","_context2","_x3","_x4","check","_ref3","_callee3","_yield$$authHost$get","_callee3$","_context3","get"],"sources":["C:/VScode/RC/uniquekg/frontend/src/http/userAPI.jsx"],"sourcesContent":["import { $authHost, $host } from \"./index\";\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport const registration = async (email, password) => {\r\n    const {data} = await $host.post('api/user/registration', {email, password, role: 'ADMIN'})\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\nexport const login = async (email, password) => {\r\n    const {data} = await $host.post('api/user/login', {email, password})\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\nexport const check = async () => {\r\n    const {data} = await $authHost.get('api/user/auth')\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}"],"mappings":"wPAAA,OAASA,SAAS,CAAEC,KAAK,KAAQ,SAAS,CAC1C,MAAO,CAAAC,UAAU,KAAM,YAAY,CAEnC,MAAO,IAAM,CAAAC,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,KAAK,CAAEC,QAAQ,MAAAC,iBAAA,CAAAC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACzB,CAAAhB,KAAK,CAACiB,IAAI,CAAC,uBAAuB,CAAE,CAACT,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAQ,CAAES,IAAI,CAAE,OAAO,CAAC,CAAC,QAAAR,iBAAA,CAAAI,QAAA,CAAAK,IAAA,CAAnFR,IAAI,CAAAD,iBAAA,CAAJC,IAAI,CACXS,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEV,IAAI,CAACW,KAAK,CAAC,QAAAR,QAAA,CAAAS,MAAA,UAClCtB,UAAU,CAACU,IAAI,CAACW,KAAK,CAAC,0BAAAR,QAAA,CAAAU,IAAA,MAAAjB,OAAA,GAChC,kBAJY,CAAAL,YAAYA,CAAAuB,EAAA,CAAAC,GAAA,SAAAvB,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OAIxB,CACD,MAAO,IAAM,CAAAC,KAAK,6BAAAC,KAAA,CAAA1B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAyB,SAAOvB,KAAK,CAAEC,QAAQ,MAAAuB,kBAAA,CAAArB,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAqB,UAAAC,SAAA,iBAAAA,SAAA,CAAAnB,IAAA,CAAAmB,SAAA,CAAAlB,IAAA,SAAAkB,SAAA,CAAAlB,IAAA,SAClB,CAAAhB,KAAK,CAACiB,IAAI,CAAC,gBAAgB,CAAE,CAACT,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAQ,CAAC,CAAC,QAAAuB,kBAAA,CAAAE,SAAA,CAAAf,IAAA,CAA7DR,IAAI,CAAAqB,kBAAA,CAAJrB,IAAI,CACXS,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEV,IAAI,CAACW,KAAK,CAAC,QAAAY,SAAA,CAAAX,MAAA,UAClCtB,UAAU,CAACU,IAAI,CAACW,KAAK,CAAC,0BAAAY,SAAA,CAAAV,IAAA,MAAAO,QAAA,GAChC,kBAJY,CAAAF,KAAKA,CAAAM,GAAA,CAAAC,GAAA,SAAAN,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAIjB,CACD,MAAO,IAAM,CAAAS,KAAK,6BAAAC,KAAA,CAAAlC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAiC,SAAA,MAAAC,oBAAA,CAAA7B,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAA6B,UAAAC,SAAA,iBAAAA,SAAA,CAAA3B,IAAA,CAAA2B,SAAA,CAAA1B,IAAA,SAAA0B,SAAA,CAAA1B,IAAA,SACI,CAAAjB,SAAS,CAAC4C,GAAG,CAAC,eAAe,CAAC,QAAAH,oBAAA,CAAAE,SAAA,CAAAvB,IAAA,CAA5CR,IAAI,CAAA6B,oBAAA,CAAJ7B,IAAI,CACXS,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEV,IAAI,CAACW,KAAK,CAAC,QAAAoB,SAAA,CAAAnB,MAAA,UAClCtB,UAAU,CAACU,IAAI,CAACW,KAAK,CAAC,0BAAAoB,SAAA,CAAAlB,IAAA,MAAAe,QAAA,GAChC,kBAJY,CAAAF,KAAKA,CAAA,SAAAC,KAAA,CAAAX,KAAA,MAAAC,SAAA,OAIjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}